(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{506:function(e,t,n){var content=n(515);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("4c343c54",content,!0,{sourceMap:!1})},507:function(e,t,n){var content=n(517);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("972536a2",content,!0,{sourceMap:!1})},510:function(e,t,n){"use strict";var c=n(504),r=n.n(c),o=(n(10),n(511)),l=n(508),d=n(503),v={name:"FunctionalityCard",components:{ServiceCard:o.a,Dropdown:l.a,Badge:d.a},props:{functionality:{type:Object,required:!0},value:{}},data:function(){return{}},computed:{functionalities:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},cloud:function(){return this.functionality.services.some((function(e){return e.cloud}))}},methods:{}},f=(n(516),n(15)),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-top space-x-3 hover:border-gray-400"},[n("div",{staticClass:"flex-shrink-0 rounded-full flex items-center mr-2"},[n(r.a,{attrs:{value:e.functionality.id,name:"device_functionalities"},model:{value:e.functionalities,callback:function(t){e.functionalities=t},expression:"functionalities"}})],1),e._v(" "),n("dropdown",{staticClass:"flex-1 min-w-0"},[n("div",{staticClass:"focus:outline-none",attrs:{slot:"trigger"},slot:"trigger"},[n("div",{staticClass:"flex space-between flex-row items-center"},[n("div",{staticClass:"flex-1"},[n("p",{staticClass:"text-sm font-medium text-gray-900"},[e._v("\n              "+e._s(e.functionality.name)+"\n              "),e.cloud?n("badge",{attrs:{icon:"cloud"}}):e._e()],1),e._v(" "),n("p",{staticClass:"text-sm text-gray-500 truncate"},[e._l(e.functionality.services,(function(t){return e._l(t.service_data,(function(data){return data.data_type.icon?n("i",{key:data.id,staticClass:"la la-lg",class:["la-"+data.data_type.icon]}):e._e()}))}))],2)])])]),e._v(" "),n("div",{staticClass:"border-t border-blue-500 mt-1 divide-y-2"},e._l(e.functionality.services,(function(e){return n("service-card",{key:e.id,attrs:{service:e}})})),1)])],1)}),[],!1,null,"1812259c",null);t.a=component.exports},511:function(e,t,n){"use strict";n(34);var c=n(505),r=n(503),o={name:"ServiceCard",components:{DataCard:c.a,Badge:r.a},props:{service:{type:Object,required:!0}},computed:{name:function(){return this.service.server_group?this.service.server_group.name:this.service.device_type?this.service.device_type.name:"Any device"}},methods:{}},l=(n(514),n(15)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"py-2"},[n("div",[n("div",{staticClass:"flex space-between flex-row items-center"},[n("div",{staticClass:"flex-1"},[n("p",{staticClass:"text-sm font-medium text-gray-900 flex justify-between"},[e._v("\n                    "+e._s(e.name)+"\n                    "),e.service.cloud?n("badge",{attrs:{icon:"cloud"}},[e._v(" Cloud")]):e._e()],1)]),e._v(" "),n("div",[e.service.server_group&&e.service.server_group.locations.length?n("div",{staticClass:"text-sm text-gray-500"},[n("i",{staticClass:"la la-map-pin"}),e._v(e._s(e.service.server_group.locations.map((function(e){return e.country})).join(", "))+"\n                ")]):e._e()])]),e._v(" "),n("div",{staticClass:"divide-y rounded-xl overflow-hidden mt-2"},e._l(e.service.service_data,(function(data){return n("data-card",{key:data.id,staticClass:"divide-1",attrs:{data:data}})})),1)])])}),[],!1,null,"3c2e9c90",null);t.a=component.exports},514:function(e,t,n){"use strict";n(506)},515:function(e,t,n){var c=n(21)((function(i){return i[1]}));c.push([e.i,'.flex-wrap.justify-between[data-v-3c2e9c90]:after{content:"";flex:auto}.vertical-align[data-v-3c2e9c90]{position:absolute;top:50%;transform:translateY(-50%);right:16px}',""]),c.locals={},e.exports=c},516:function(e,t,n){"use strict";n(507)},517:function(e,t,n){var c=n(21)((function(i){return i[1]}));c.push([e.i,'.flex-wrap.justify-between[data-v-1812259c]:after{content:"";flex:auto}.vertical-align[data-v-1812259c]{position:absolute;top:50%;transform:translateY(-50%);right:16px}img[data-v-1812259c]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}',""]),c.locals={},e.exports=c},540:function(e,t,n){var content=n(563);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("b9681aea",content,!0,{sourceMap:!1})},541:function(e,t,n){var content=n(566);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("177ddba4",content,!0,{sourceMap:!1})},542:function(e,t,n){var content=n(568);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(22).default)("a6629a30",content,!0,{sourceMap:!1})},562:function(e,t,n){"use strict";n(540)},563:function(e,t,n){var c=n(21)((function(i){return i[1]}));c.push([e.i,".device-card[data-v-9a2199d0]{box-shadow:0 0 0 0 #000;transform:scale(1);-webkit-animation:pulse-data-v-9a2199d0 1s;animation:pulse-data-v-9a2199d0 1s}@-webkit-keyframes pulse-data-v-9a2199d0{0%{transform:scale(1);box-shadow:0 0 0 0 rgba(0,0,0,.3)}70%{transform:scale(1.02);box-shadow:0 0 0 5px transparent}to{transform:scale(1);box-shadow:0 0 0 0 transparent}}@keyframes pulse-data-v-9a2199d0{0%{transform:scale(1);box-shadow:0 0 0 0 rgba(0,0,0,.3)}70%{transform:scale(1.02);box-shadow:0 0 0 5px transparent}to{transform:scale(1);box-shadow:0 0 0 0 transparent}}",""]),c.locals={},e.exports=c},564:function(e,t,n){"use strict";e.exports=n(581)},565:function(e,t,n){"use strict";n(541)},566:function(e,t,n){var c=n(21)((function(i){return i[1]}));c.push([e.i,".middle[data-v-5e7ca3ef]{left:25px;transform:translate(-50%,-50%)}.line[data-v-5e7ca3ef],.middle[data-v-5e7ca3ef]{position:absolute;top:50%}.line[data-v-5e7ca3ef]{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));width:25px;height:6px;left:50%;transform:translateY(-50%);z-index:-1}.line.active[data-v-5e7ca3ef]{background:var(--primary-color)}",""]),c.locals={},e.exports=c},567:function(e,t,n){"use strict";n(542)},568:function(e,t,n){var c=n(21)((function(i){return i[1]}));c.push([e.i,"table th[data-v-e5ace16c]{position:-webkit-sticky;position:sticky;background:#fff;left:0;z-index:1;min-width:120px}table td[data-v-e5ace16c]{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:0.75rem;padding-left:50px;position:relative}table .setup-line[data-v-e5ace16c]{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));position:absolute;top:0;left:22px;bottom:-1px;width:6px}table .setup-line-top[data-v-e5ace16c]{top:50%}table .setup-line-bottom[data-v-e5ace16c]{bottom:50%}table .setup-line.active[data-v-e5ace16c]{background:var(--primary-color)}table .server-group-card:last-child .setup-line[data-v-e5ace16c]{bottom:50%}",""]),c.locals={},e.exports=c},581:function(e,t,n){"use strict";n.r(t);var c=n(356),r=n.n(c),o={inheritAttrs:!1,props:{value:null,modelValue:null},model:{prop:"modelValue",event:"input"},data:function(){return{focused:!1}},methods:{onClick:function(e){this.$attrs.disabled||(this.$emit("click",e),this.$emit("input",this.value),this.$refs.input.focus(),this.checked||this.$emit("change",e))},onFocus:function(e){this.focused=!0,this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.$emit("blur",e)}},computed:{checked:function(){return null!=this.modelValue&&r.a.equals(this.modelValue,this.value)},containerClass:function(){return["p-radiobutton p-component",{"p-radiobutton-checked":this.checked,"p-radiobutton-disabled":this.$attrs.disabled,"p-radiobutton-focused":this.focused}]}}},l=n(15),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.containerClass,on:{click:function(t){return e.onClick(t)}}},[n("div",{staticClass:"p-hidden-accessible"},[n("input",e._b({ref:"input",attrs:{type:"radio"},domProps:{checked:e.checked,value:e.value},on:{focus:function(t){return e.onFocus(t)},blur:function(t){return e.onBlur(t)}}},"input",e.$attrs,!1))]),e._v(" "),n("div",{ref:"box",class:["p-radiobutton-box",{"p-highlight":e.checked,"p-disabled":e.$attrs.disabled,"p-focus":e.focused}],attrs:{role:"radio","aria-checked":e.checked}},[n("div",{staticClass:"p-radiobutton-icon"})])])}),[],!1,null,null,null);t.default=component.exports},583:function(e,t,n){"use strict";n.r(t);var c=n(17),r=(n(73),n(33),n(24),n(23),n(10),n(36),n(28),n(37),n(16)),o=n(38);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d={name:"BlockedList",data:function(){return{interval:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.d)({devices:function(e){return e.devices.blocked}})),methods:{setupDevice:function(e){this.$router.push("/devices/setup/"+e.pihole_device_id)}}},v=d,f=n(15),h=Object(f.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.devices.length?n("div",{staticClass:"bg-white shadow overflow-hidden sm:rounded-md"},[e._m(0),e._v(" "),n("ul",{staticClass:"divide-y divide-gray-200 overflow-auto new-device-list",attrs:{role:"list"}},e._l(e.devices,(function(t){return n("li",{key:t.id,staticClass:"block hover:bg-gray-50"},[n("div",{staticClass:"px-4 py-4 flex items-center sm:px-6"},[n("div",{staticClass:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between"},[n("div",{staticClass:"truncate"},[n("div",{staticClass:"flex text-sm"},[n("p",{staticClass:"font-medium text-blue-600 truncate"},[e._v(e._s(t.pihole_device.name?t.pihole_device.name:"Unknown name"))]),e._v(" "),n("p",{staticClass:"ml-1 flex-shrink-0 font-normal text-gray-500"},[e._v(e._s(t.pihole_device.macVendor?t.pihole_device.macVendor:""))])]),e._v(" "),n("div",{staticClass:"mt-2 flex"},[n("div",{staticClass:"flex items-center text-sm text-gray-500"},[n("i",{staticClass:"la la-lg la-clock mr-2"}),e._v(" "),n("p",[e._v("\n                                    First seen "+e._s(e._f("formatDate")(t.pihole_device.firstSeen,"LLL"))),n("br"),e._v("\n                                    Last active "+e._s(e._f("formatDate")(t.pihole_device.lastQuery,"fromNow"))+" ago\n                                ")])])])])]),e._v(" "),n("div",{staticClass:"ml-5 flex-shrink-0 flex flex-col"},[n("div",{staticClass:"flex justify-between items-center px-4 py-2 rounded-full text-xs font-medium bg-green-100 text-green-800 cursor-pointer",on:{click:function(n){return e.setupDevice(t)}}},[n("i",{staticClass:"la la-lg la-check mr-2"}),e._v("\n                        Unblock\n                    ")])])])])})),0)]):e._e()}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-white px-4 py-5 border-b border-gray-200 sm:px-6 items-center flex"},[n("i",{staticClass:"la la-2x la-ban text-red-400"}),e._v(" "),n("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900 ml-2"},[e._v("Blocked devices")])])}],!1,null,null,null).exports,m=(n(124),n(39),n(74),n(95),n(510)),_=n(152),y=function(e,t,n,c){if(!t)return e;var r=e.map((function(e){return e.id})).indexOf(t.id);return-1===r?t.services=[]:t=e[r],t.services.push({serviceData:c.service_data,functionality:n}),-1===r?e.push(t):e[r]=t,e},x=n(533),C=(n(153),n(34),n(505)),w=n(503);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={name:"LocalDeviceCard",components:{ServiceCard:n(554).a,DataCard:C.a,Badge:w.a},props:{localDevice:{type:Object,required:!0}},computed:k(k({},Object(o.d)({devices:function(e){return e.devices.devices}})),{},{deviceImage:function(){return console.log(this.devices),null==this.localDevice||null==this.localDevice.device||null==this.localDevice.device.device_type.icon?null:this.$axios.defaults.baseURL+this.localDevice.device.device_type.icon},connectedDevices:function(){var e=this;return this.devices.filter((function(t){return t.device_type_id===e.localDevice.id})).map((function(e){return e.name})).join(", ")}}),methods:{}},j=Object(f.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative rounded-lg bg-gray-100 p-4 shadow hover:border-gray-400",staticStyle:{width:"250px"},on:{click:function(t){return e.$bus.$emit("localDeviceClicked",e.localDevice.id)}}},[n("div",[n("div",{staticClass:"flex space-between flex-row items-center"},[n("div",{staticClass:"flex-1"},[n("p",{staticClass:"text-sm font-medium text-gray-900"},[n("span",{staticClass:"flex flex-start items-center"},[e.deviceImage?[n("img",{staticClass:"w-6",attrs:{src:e.deviceImage}}),e._v(" "),n("i",{staticClass:"la la-arrow-right text-bold mx-1"})]:e._e(),e._v("\n                        "+e._s(e.connectedDevices?e.connectedDevices:e.localDevice.name)+"\n                    ")],2)])])]),e._v(" "),n("div",{staticClass:"divide-y rounded-xl overflow-hidden mt-2"},e._l(e.localDevice.services,(function(t){return n("service-card",{key:t.id,attrs:{service:t,device:e.localDevice.device}})})),1)])])}),[],!1,null,null,null).exports,$=n(511),P=n(508),E={name:"DeviceCard",components:{FunctionalityCard:m.a,ServiceCard:$.a,Dropdown:P.a,Badge:w.a},props:{device:{type:Object,required:!0}},data:function(){return{listener:null}},mounted:function(){var e=this;this.listener=this.$bus.$on("localDeviceClicked",(function(t){if(e.device.device_type_id===t){var n=e.$refs.card;console.log(n),n.style.animation="none",n.offsetHeight,n.style.animation=null}}))},destroyed:function(){this.listener.$off()},computed:{image:function(){return null==this.device||null==this.device.device_type.icon?null:this.$axios.defaults.baseURL+this.device.device_type.icon}},methods:{}},S=(n(562),Object(f.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"card",staticClass:"relative rounded-lg bg-gray-100 p-4 shadow hover:border-gray-400 device-card",staticStyle:{width:"250px"}},[n("div",{staticClass:"flex justify-between items-start"},[e.image?n("img",{staticClass:"w-12",attrs:{src:e.image}}):e._e(),e._v(" "),e.device.pihole_device.macVendor?n("badge",{staticClass:"ml-2"},[e._v("\n            "+e._s(e.device.pihole_device.macVendor)+"\n        ")]):e._e()],1),e._v(" "),n("p",{staticClass:"text-md font-medium text-gray-900 mt-2"},[e._v("\n        "+e._s(e.device.name)+"\n    ")]),e._v(" "),n("p",{staticClass:"text-sm text-gray-500 truncate"},e._l(e.device.localFunctionalities,(function(e){return n("functionality-card",{key:e.id,attrs:{functionality:e}})})),1)])}),[],!1,null,"9a2199d0",null).exports),L=n(564),F=n.n(L),B={name:"ServiceSelectToggle",components:{DataCard:C.a,Badge:w.a},props:{value:{type:Boolean,required:!0},reverseLine:{type:Boolean,default:!1}},data:function(){return{}},computed:{toggle:{get:function(){var e;return null!==(e=this.value)&&void 0!==e?e:null},set:function(e){e=!this.value,console.log(e),this.$emit("input",e)}}},methods:{change:function(e){console.log(e)}}},T=(n(565),Object(f.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"middle"},[n("div",{staticClass:"line",class:{active:e.value}},[e.value?n("div",{staticClass:"skeleton-box skeleton-box-x",class:{reverse:e.reverseLine}}):e._e()]),e._v(" "),n("div",{staticClass:"toggle"},[n(F.a,{attrs:{value:!0},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}})],1)])}),[],!1,null,"5e7ca3ef",null).exports);function M(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function G(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var V={name:"DeviceOverview",components:{ServerGroupDetail:n(521).a,ServiceSelectToggle:T,DeviceCard:S,LocalDeviceCard:j,ServerGroupCard:x.a,FunctionalityCard:m.a},data:function(){return{linePositions:{}}},watch:{rawDevices:{handler:function(e,t){if(t&&t.length){console.log(t);var n=[];e.forEach((function(e,c){var r=t.find((function(t){return t.id===e.id}));if(r){var o=r.functionalities.map((function(e){return e.id})),l=e.functionalities.map((function(e){return e.id}));JSON.stringify(o)!==JSON.stringify(l)&&n.push(e)}else n.push(e)})),n.length>0&&this.saveDevices(n)}},deep:!0},deviceSettings:{handler:function(){this.setLinePositions()},deep:!0}},computed:G(G({},Object(o.d)({rawDevices:function(e){return e.devices.devices},deviceTypes:function(e){return e.devices.types}})),{},{deviceSettings:function(){return 0===this.rawDevices.length||0===this.deviceTypes.length?[]:(e=this.rawDevices,t=this.deviceTypes,e.map((function(e){var n=[],c=[],r=[],o=t.find((function(t){return t.id===e.device_type_id}));return o&&o.functionalities&&(o.functionalities.forEach((function(t){t.active=e.functionalities.some((function(e){return e.id===t.id})),0===t.services.length?r.push(t):t.services.forEach((function(e){if(e.server_group||e.device_type)n=y(n,e.server_group,t,e),c=y(c,e.device_type,t,e);else{var r={id:null,name:"Any device",locations:[]};e.cloud?n=y(n,r,t,e):c=y(c,r,t,e)}}))})),c=c.map((function(t){return t.device=e,t.active=t.services.some((function(e){return e.functionality.active})),t})),n=n.map((function(t){return t.device=e,t.active=t.services.some((function(e){return e.functionality.active})),t}))),{device:e,serverGroups:n,localDevices:c,localFunctionalities:r}})));var e,t}}),mounted:function(){window.addEventListener("resize",this.setLinePositions),this.$store.dispatch("devices/getAbstractions")},destroyed:function(){window.removeEventListener("resize",this.setLinePositions)},methods:G(G({},Object(o.c)("devices",["setDevices"])),{},{showDevice:function(e){this.$router.push("/devices/"+e.id)},blockDevice:function(e){this.$store.dispatch("devices/blockDevice",e.pihole_device_id)},toggleFunctionalities:function(e,t){var n=Object(_.cloneDeep)(this.rawDevices),c=[],r=[];e.services.forEach((function(e){r.includes(e.functionality.id)||(c.push(e.functionality),r.push(e.functionality.id))}));var o=n.find((function(t){return t.id===e.device.id}));if(t){var l=o.functionalities.map((function(e){return e.id}));c.forEach((function(e){l.includes(e.id)||o.functionalities.push(e)}))}else o.functionalities=o.functionalities.filter((function(e){return!r.includes(e.id)}));this.setDevices(n)},getLinePosition:function(e,t){return this.linePositions.hasOwnProperty(e.device.id)?this.linePositions[e.device.id][t]:{}},setLinePositions:function(){var e=this,t={device:{height:0},local:{height:0},cloud:{height:0}};this.$nextTick((function(){e.deviceSettings&&e.deviceSettings.forEach((function(n){var c=n.localDevices.some((function(e){return e.active})),r=n.serverGroups.some((function(e){return e.active})),o=JSON.parse(JSON.stringify(t));if((c||r)&&(o.device={top:"50%",bottom:"-1px"}),r)o.local={top:0,bottom:"-1px"};else if(c){var l=0;n.localDevices.forEach((function(e,t){e.active&&(l=t)}));var d=e.$refs.localDeviceCards[l].$el;if(d){var v=d.parentElement.clientHeight-d.offsetTop-d.clientHeight/2;o.local={top:0,bottom:v+"px"}}}if(r){var f=0;n.serverGroups.forEach((function(e,t){e.active&&(f=t)}));var h=e.$refs.serverGroupCards[f];if(h){var m=h.parentElement.parentElement.clientHeight-h.offsetTop-h.clientHeight/2;o.cloud={top:0,bottom:m+"px"}}}e.linePositions[n.device.id]=o,e.$forceUpdate()}))}))},goToDevice:function(e){this.$router.push("/devices/"+e)},saveDevices:function(e){var t=this,n=e.map((function(e){return{id:e.id,functionalities:e.functionalities.map((function(e){return{id:e.id}}))}}));this.$store.dispatch("devices/updateDevices",n).then((function(){t.$toast.add({severity:"success",summary:"Updated",life:2e3})}))}})},J=(n(567),{components:{DeviceOverview:Object(f.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.deviceSettings.length?n("div",[n("table",{staticClass:"divide-y"},[n("tr",{staticClass:"divide-x"},[e._m(0),e._v(" "),e._l(e.deviceSettings,(function(t){return n("td",{key:t.device.id},[e._m(1,!0),e._v(" "),n("div",{staticClass:"setup-line active",style:e.getLinePosition(t,"device")},[n("div",{staticClass:"skeleton-box"})]),e._v(" "),n("service-select-toggle",{attrs:{"reverse-line":!0,value:!0}}),e._v(" "),n("device-card",{staticClass:"cursor-pointer",attrs:{device:t.device},nativeOn:{click:function(n){return e.goToDevice(t.device.id)}}})],1)}))],2),e._v(" "),n("tr",{staticClass:"divide-x"},[e._m(2),e._v(" "),e._l(e.deviceSettings,(function(t){return n("td",{key:t.device.id},[e._m(3,!0),e._v(" "),n("div",{staticClass:"setup-line active",style:e.getLinePosition(t,"local")},[n("div",{staticClass:"skeleton-box"})]),e._v(" "),e._l(t.localDevices,(function(t){return[n("service-select-toggle",{attrs:{value:t.active},on:{input:function(n){return e.toggleFunctionalities(t,n)}}}),e._v(" "),n("local-device-card",{ref:"localDeviceCards",refInFor:!0,attrs:{"local-device":t}})]}))],2)}))],2),e._v(" "),n("tr",{staticClass:"divide-x"},[e._m(4),e._v(" "),e._l(e.deviceSettings,(function(t){return n("td",{key:t.device.id},[n("div",{staticClass:"setup-line active",style:e.getLinePosition(t,"cloud")},[n("div",{staticClass:"skeleton-box delay-4"})]),e._v(" "),n("div",e._l(t.serverGroups,(function(t){return n("div",{key:t.id,ref:"serverGroupCards",refInFor:!0,staticClass:"server-group-card"},[t.active?e._e():n("div",{staticClass:"setup-line"},[n("div",{staticClass:"skeleton-box delay-4"})]),e._v(" "),n("service-select-toggle",{attrs:{value:t.active},on:{input:function(n){return e.toggleFunctionalities(t,n)}}}),e._v(" "),n("server-group-card",{attrs:{"server-group":Object.assign({},t)}})],1)})),0)])}))],2)])]):e._e()}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",[n("div",{staticClass:"flex flex-col justify-center items-center text-gray-700 p-4"},[n("i",{staticClass:"la la-2x la-bullseye"}),e._v("\n                    Data on device\n                ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"setup-line setup-line-top"},[t("div",{staticClass:"skeleton-box"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",[n("div",{staticClass:"flex flex-col justify-center items-center text-gray-700 p-4"},[n("i",{staticClass:"la la-2x la-home"}),e._v("\n                    Data to other"),n("br"),e._v("\n                    local device\n                ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"setup-line"},[t("div",{staticClass:"skeleton-box  delay-2"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("th",[n("div",{staticClass:"flex flex-col justify-center items-center text-gray-700 p-4"},[n("i",{staticClass:"la la-2x la-cloud"}),e._v("\n                    Data to cloud\n                ")])])}],!1,null,"e5ace16c",null).exports,BlockedList:h},fetch:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("devices/getDevices");case 2:return t.next=4,e.$store.dispatch("devices/getDeviceTypes",!0);case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{text:null}},methods:{}}),U=Object(f.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"p-6"},[n("device-overview"),e._v(" "),n("blocked-list",{staticClass:"mt-4"})],1)}),[],!1,null,null,null);t.default=U.exports}}]);